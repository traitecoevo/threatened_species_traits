# This file is automatically generated from traits.build
# package, via the file remake.yml.whisker:
# edit the file there (or the files that it includes).

packages:
  - traits.build

targets:

# Define generic targets
  all:
    depends:
      - threatened_species
      - export/data/curr/threatened_species.rds

# Load data resources
  schema:
    command: get_schema()

  resource_metadata:
    command: get_schema("config/metadata.yml",  I("metadata"))

  definitions:
    command: get_schema("config/traits.yml", I("traits"))

  unit_conversions:
    command: get_unit_conversions("config/unit_conversions.csv")

  taxon_list:
    command: read_csv_char("config/taxon_list.csv")

# Build each source
  ABRS_2025_config:
    command: >
      dataset_configure("data/ABRS_2025/metadata.yml",
                 definitions
                 )
  ABRS_2025_raw:
    command: >
      dataset_process("data/ABRS_2025/data.csv",
                  ABRS_2025_config,
                  schema,
                  resource_metadata,
                  unit_conversions
                 )
  ABRS_2025:
    command: >
      dataset_update_taxonomy(ABRS_2025_raw,
                  taxon_list
                 )

  ANBG_2025_config:
    command: >
      dataset_configure("data/ANBG_2025/metadata.yml",
                 definitions
                 )
  ANBG_2025_raw:
    command: >
      dataset_process("data/ANBG_2025/data.csv",
                  ANBG_2025_config,
                  schema,
                  resource_metadata,
                  unit_conversions
                 )
  ANBG_2025:
    command: >
      dataset_update_taxonomy(ANBG_2025_raw,
                  taxon_list
                 )

  AusTraits_habitats_2024_config:
    command: >
      dataset_configure("data/AusTraits_habitats_2024/metadata.yml",
                 definitions
                 )
  AusTraits_habitats_2024_raw:
    command: >
      dataset_process("data/AusTraits_habitats_2024/data.csv",
                  AusTraits_habitats_2024_config,
                  schema,
                  resource_metadata,
                  unit_conversions
                 )
  AusTraits_habitats_2024:
    command: >
      dataset_update_taxonomy(AusTraits_habitats_2024_raw,
                  taxon_list
                 )

  Australian_PlantBank_2025_config:
    command: >
      dataset_configure("data/Australian_PlantBank_2025/metadata.yml",
                 definitions
                 )
  Australian_PlantBank_2025_raw:
    command: >
      dataset_process("data/Australian_PlantBank_2025/data.csv",
                  Australian_PlantBank_2025_config,
                  schema,
                  resource_metadata,
                  unit_conversions
                 )
  Australian_PlantBank_2025:
    command: >
      dataset_update_taxonomy(Australian_PlantBank_2025_raw,
                  taxon_list
                 )

  Barrett_2008_config:
    command: >
      dataset_configure("data/Barrett_2008/metadata.yml",
                 definitions
                 )
  Barrett_2008_raw:
    command: >
      dataset_process("data/Barrett_2008/data.csv",
                  Barrett_2008_config,
                  schema,
                  resource_metadata,
                  unit_conversions
                 )
  Barrett_2008:
    command: >
      dataset_update_taxonomy(Barrett_2008_raw,
                  taxon_list
                 )

  Barrett_2009_config:
    command: >
      dataset_configure("data/Barrett_2009/metadata.yml",
                 definitions
                 )
  Barrett_2009_raw:
    command: >
      dataset_process("data/Barrett_2009/data.csv",
                  Barrett_2009_config,
                  schema,
                  resource_metadata,
                  unit_conversions
                 )
  Barrett_2009:
    command: >
      dataset_update_taxonomy(Barrett_2009_raw,
                  taxon_list
                 )

  Barrett_2009_2_config:
    command: >
      dataset_configure("data/Barrett_2009_2/metadata.yml",
                 definitions
                 )
  Barrett_2009_2_raw:
    command: >
      dataset_process("data/Barrett_2009_2/data.csv",
                  Barrett_2009_2_config,
                  schema,
                  resource_metadata,
                  unit_conversions
                 )
  Barrett_2009_2:
    command: >
      dataset_update_taxonomy(Barrett_2009_2_raw,
                  taxon_list
                 )

  Beggs_2010_config:
    command: >
      dataset_configure("data/Beggs_2010/metadata.yml",
                 definitions
                 )
  Beggs_2010_raw:
    command: >
      dataset_process("data/Beggs_2010/data.csv",
                  Beggs_2010_config,
                  schema,
                  resource_metadata,
                  unit_conversions
                 )
  Beggs_2010:
    command: >
      dataset_update_taxonomy(Beggs_2010_raw,
                  taxon_list
                 )

  Bell_1996_config:
    command: >
      dataset_configure("data/Bell_1996/metadata.yml",
                 definitions
                 )
  Bell_1996_raw:
    command: >
      dataset_process("data/Bell_1996/data.csv",
                  Bell_1996_config,
                  schema,
                  resource_metadata,
                  unit_conversions
                 )
  Bell_1996:
    command: >
      dataset_update_taxonomy(Bell_1996_raw,
                  taxon_list
                 )

  Berthon_2018_config:
    command: >
      dataset_configure("data/Berthon_2018/metadata.yml",
                 definitions
                 )
  Berthon_2018_raw:
    command: >
      dataset_process("data/Berthon_2018/data.csv",
                  Berthon_2018_config,
                  schema,
                  resource_metadata,
                  unit_conversions
                 )
  Berthon_2018:
    command: >
      dataset_update_taxonomy(Berthon_2018_raw,
                  taxon_list
                 )

  Brisbane_Botanic_Gardens_2025_config:
    command: >
      dataset_configure("data/Brisbane_Botanic_Gardens_2025/metadata.yml",
                 definitions
                 )
  Brisbane_Botanic_Gardens_2025_raw:
    command: >
      dataset_process("data/Brisbane_Botanic_Gardens_2025/data.csv",
                  Brisbane_Botanic_Gardens_2025_config,
                  schema,
                  resource_metadata,
                  unit_conversions
                 )
  Brisbane_Botanic_Gardens_2025:
    command: >
      dataset_update_taxonomy(Brisbane_Botanic_Gardens_2025_raw,
                  taxon_list
                 )

  Butler_2004_config:
    command: >
      dataset_configure("data/Butler_2004/metadata.yml",
                 definitions
                 )
  Butler_2004_raw:
    command: >
      dataset_process("data/Butler_2004/data.csv",
                  Butler_2004_config,
                  schema,
                  resource_metadata,
                  unit_conversions
                 )
  Butler_2004:
    command: >
      dataset_update_taxonomy(Butler_2004_raw,
                  taxon_list
                 )

  Crisp_2003_config:
    command: >
      dataset_configure("data/Crisp_2003/metadata.yml",
                 definitions
                 )
  Crisp_2003_raw:
    command: >
      dataset_process("data/Crisp_2003/data.csv",
                  Crisp_2003_config,
                  schema,
                  resource_metadata,
                  unit_conversions
                 )
  Crisp_2003:
    command: >
      dataset_update_taxonomy(Crisp_2003_raw,
                  taxon_list
                 )

  Crone_2012_config:
    command: >
      dataset_configure("data/Crone_2012/metadata.yml",
                 definitions
                 )
  Crone_2012_raw:
    command: >
      dataset_process("data/Crone_2012/data.csv",
                  Crone_2012_config,
                  schema,
                  resource_metadata,
                  unit_conversions
                 )
  Crone_2012:
    command: >
      dataset_update_taxonomy(Crone_2012_raw,
                  taxon_list
                 )

  DCCEEW_2024_config:
    command: >
      dataset_configure("data/DCCEEW_2024/metadata.yml",
                 definitions
                 )
  DCCEEW_2024_raw:
    command: >
      dataset_process("data/DCCEEW_2024/data.csv",
                  DCCEEW_2024_config,
                  schema,
                  resource_metadata,
                  unit_conversions
                 )
  DCCEEW_2024:
    command: >
      dataset_update_taxonomy(DCCEEW_2024_raw,
                  taxon_list
                 )

  Detombeur_2025_config:
    command: >
      dataset_configure("data/Detombeur_2025/metadata.yml",
                 definitions
                 )
  Detombeur_2025_raw:
    command: >
      dataset_process("data/Detombeur_2025/data.csv",
                  Detombeur_2025_config,
                  schema,
                  resource_metadata,
                  unit_conversions
                 )
  Detombeur_2025:
    command: >
      dataset_update_taxonomy(Detombeur_2025_raw,
                  taxon_list
                 )

  Fensham_2020_config:
    command: >
      dataset_configure("data/Fensham_2020/metadata.yml",
                 definitions
                 )
  Fensham_2020_raw:
    command: >
      dataset_process("data/Fensham_2020/data.csv",
                  Fensham_2020_config,
                  schema,
                  resource_metadata,
                  unit_conversions
                 )
  Fensham_2020:
    command: >
      dataset_update_taxonomy(Fensham_2020_raw,
                  taxon_list
                 )

  Fensham_2021_config:
    command: >
      dataset_configure("data/Fensham_2021/metadata.yml",
                 definitions
                 )
  Fensham_2021_raw:
    command: >
      dataset_process("data/Fensham_2021/data.csv",
                  Fensham_2021_config,
                  schema,
                  resource_metadata,
                  unit_conversions
                 )
  Fensham_2021:
    command: >
      dataset_update_taxonomy(Fensham_2021_raw,
                  taxon_list
                 )

  FernandezWinzer_2018_config:
    command: >
      dataset_configure("data/FernandezWinzer_2018/metadata.yml",
                 definitions
                 )
  FernandezWinzer_2018_raw:
    command: >
      dataset_process("data/FernandezWinzer_2018/data.csv",
                  FernandezWinzer_2018_config,
                  schema,
                  resource_metadata,
                  unit_conversions
                 )
  FernandezWinzer_2018:
    command: >
      dataset_update_taxonomy(FernandezWinzer_2018_raw,
                  taxon_list
                 )

  Greening_Australia_2025_config:
    command: >
      dataset_configure("data/Greening_Australia_2025/metadata.yml",
                 definitions
                 )
  Greening_Australia_2025_raw:
    command: >
      dataset_process("data/Greening_Australia_2025/data.csv",
                  Greening_Australia_2025_config,
                  schema,
                  resource_metadata,
                  unit_conversions
                 )
  Greening_Australia_2025:
    command: >
      dataset_update_taxonomy(Greening_Australia_2025_raw,
                  taxon_list
                 )

  Hanley_2001_config:
    command: >
      dataset_configure("data/Hanley_2001/metadata.yml",
                 definitions
                 )
  Hanley_2001_raw:
    command: >
      dataset_process("data/Hanley_2001/data.csv",
                  Hanley_2001_config,
                  schema,
                  resource_metadata,
                  unit_conversions
                 )
  Hanley_2001:
    command: >
      dataset_update_taxonomy(Hanley_2001_raw,
                  taxon_list
                 )

  Hanley_2002_config:
    command: >
      dataset_configure("data/Hanley_2002/metadata.yml",
                 definitions
                 )
  Hanley_2002_raw:
    command: >
      dataset_process("data/Hanley_2002/data.csv",
                  Hanley_2002_config,
                  schema,
                  resource_metadata,
                  unit_conversions
                 )
  Hanley_2002:
    command: >
      dataset_update_taxonomy(Hanley_2002_raw,
                  taxon_list
                 )

  Harrington_1986_config:
    command: >
      dataset_configure("data/Harrington_1986/metadata.yml",
                 definitions
                 )
  Harrington_1986_raw:
    command: >
      dataset_process("data/Harrington_1986/data.csv",
                  Harrington_1986_config,
                  schema,
                  resource_metadata,
                  unit_conversions
                 )
  Harrington_1986:
    command: >
      dataset_update_taxonomy(Harrington_1986_raw,
                  taxon_list
                 )

  Harshani_2023_config:
    command: >
      dataset_configure("data/Harshani_2023/metadata.yml",
                 definitions
                 )
  Harshani_2023_raw:
    command: >
      dataset_process("data/Harshani_2023/data.csv",
                  Harshani_2023_config,
                  schema,
                  resource_metadata,
                  unit_conversions
                 )
  Harshani_2023:
    command: >
      dataset_update_taxonomy(Harshani_2023_raw,
                  taxon_list
                 )

  Harshani_2023_2_config:
    command: >
      dataset_configure("data/Harshani_2023_2/metadata.yml",
                 definitions
                 )
  Harshani_2023_2_raw:
    command: >
      dataset_process("data/Harshani_2023_2/data.csv",
                  Harshani_2023_2_config,
                  schema,
                  resource_metadata,
                  unit_conversions
                 )
  Harshani_2023_2:
    command: >
      dataset_update_taxonomy(Harshani_2023_2_raw,
                  taxon_list
                 )

  Hart_2024_config:
    command: >
      dataset_configure("data/Hart_2024/metadata.yml",
                 definitions
                 )
  Hart_2024_raw:
    command: >
      dataset_process("data/Hart_2024/data.csv",
                  Hart_2024_config,
                  schema,
                  resource_metadata,
                  unit_conversions
                 )
  Hart_2024:
    command: >
      dataset_update_taxonomy(Hart_2024_raw,
                  taxon_list
                 )

  Hopper_2024_config:
    command: >
      dataset_configure("data/Hopper_2024/metadata.yml",
                 definitions
                 )
  Hopper_2024_raw:
    command: >
      dataset_process("data/Hopper_2024/data.csv",
                  Hopper_2024_config,
                  schema,
                  resource_metadata,
                  unit_conversions
                 )
  Hopper_2024:
    command: >
      dataset_update_taxonomy(Hopper_2024_raw,
                  taxon_list
                 )

  Hutton_1994_config:
    command: >
      dataset_configure("data/Hutton_1994/metadata.yml",
                 definitions
                 )
  Hutton_1994_raw:
    command: >
      dataset_process("data/Hutton_1994/data.csv",
                  Hutton_1994_config,
                  schema,
                  resource_metadata,
                  unit_conversions
                 )
  Hutton_1994:
    command: >
      dataset_update_taxonomy(Hutton_1994_raw,
                  taxon_list
                 )

  Ireland_2020_config:
    command: >
      dataset_configure("data/Ireland_2020/metadata.yml",
                 definitions
                 )
  Ireland_2020_raw:
    command: >
      dataset_process("data/Ireland_2020/data.csv",
                  Ireland_2020_config,
                  schema,
                  resource_metadata,
                  unit_conversions
                 )
  Ireland_2020:
    command: >
      dataset_update_taxonomy(Ireland_2020_raw,
                  taxon_list
                 )

  Jolly_2013_config:
    command: >
      dataset_configure("data/Jolly_2013/metadata.yml",
                 definitions
                 )
  Jolly_2013_raw:
    command: >
      dataset_process("data/Jolly_2013/data.csv",
                  Jolly_2013_config,
                  schema,
                  resource_metadata,
                  unit_conversions
                 )
  Jolly_2013:
    command: >
      dataset_update_taxonomy(Jolly_2013_raw,
                  taxon_list
                 )

  Li_1997_config:
    command: >
      dataset_configure("data/Li_1997/metadata.yml",
                 definitions
                 )
  Li_1997_raw:
    command: >
      dataset_process("data/Li_1997/data.csv",
                  Li_1997_config,
                  schema,
                  resource_metadata,
                  unit_conversions
                 )
  Li_1997:
    command: >
      dataset_update_taxonomy(Li_1997_raw,
                  taxon_list
                 )

  Martino_2022_config:
    command: >
      dataset_configure("data/Martino_2022/metadata.yml",
                 definitions
                 )
  Martino_2022_raw:
    command: >
      dataset_process("data/Martino_2022/data.csv",
                  Martino_2022_config,
                  schema,
                  resource_metadata,
                  unit_conversions
                 )
  Martino_2022:
    command: >
      dataset_update_taxonomy(Martino_2022_raw,
                  taxon_list
                 )

  Martino_2024_config:
    command: >
      dataset_configure("data/Martino_2024/metadata.yml",
                 definitions
                 )
  Martino_2024_raw:
    command: >
      dataset_process("data/Martino_2024/data.csv",
                  Martino_2024_config,
                  schema,
                  resource_metadata,
                  unit_conversions
                 )
  Martino_2024:
    command: >
      dataset_update_taxonomy(Martino_2024_raw,
                  taxon_list
                 )

  McDonald_2019_config:
    command: >
      dataset_configure("data/McDonald_2019/metadata.yml",
                 definitions
                 )
  McDonald_2019_raw:
    command: >
      dataset_process("data/McDonald_2019/data.csv",
                  McDonald_2019_config,
                  schema,
                  resource_metadata,
                  unit_conversions
                 )
  McDonald_2019:
    command: >
      dataset_update_taxonomy(McDonald_2019_raw,
                  taxon_list
                 )

  McDougall_2024_config:
    command: >
      dataset_configure("data/McDougall_2024/metadata.yml",
                 definitions
                 )
  McDougall_2024_raw:
    command: >
      dataset_process("data/McDougall_2024/data.csv",
                  McDougall_2024_config,
                  schema,
                  resource_metadata,
                  unit_conversions
                 )
  McDougall_2024:
    command: >
      dataset_update_taxonomy(McDougall_2024_raw,
                  taxon_list
                 )

  McDougall_2024_2_config:
    command: >
      dataset_configure("data/McDougall_2024_2/metadata.yml",
                 definitions
                 )
  McDougall_2024_2_raw:
    command: >
      dataset_process("data/McDougall_2024_2/data.csv",
                  McDougall_2024_2_config,
                  schema,
                  resource_metadata,
                  unit_conversions
                 )
  McDougall_2024_2:
    command: >
      dataset_update_taxonomy(McDougall_2024_2_raw,
                  taxon_list
                 )

  McQuillan_2020_config:
    command: >
      dataset_configure("data/McQuillan_2020/metadata.yml",
                 definitions
                 )
  McQuillan_2020_raw:
    command: >
      dataset_process("data/McQuillan_2020/data.csv",
                  McQuillan_2020_config,
                  schema,
                  resource_metadata,
                  unit_conversions
                 )
  McQuillan_2020:
    command: >
      dataset_update_taxonomy(McQuillan_2020_raw,
                  taxon_list
                 )

  mixed_2024_config:
    command: >
      dataset_configure("data/mixed_2024/metadata.yml",
                 definitions
                 )
  mixed_2024_raw:
    command: >
      dataset_process("data/mixed_2024/data.csv",
                  mixed_2024_config,
                  schema,
                  resource_metadata,
                  unit_conversions
                 )
  mixed_2024:
    command: >
      dataset_update_taxonomy(mixed_2024_raw,
                  taxon_list
                 )

  NHNSW_2025_config:
    command: >
      dataset_configure("data/NHNSW_2025/metadata.yml",
                 definitions
                 )
  NHNSW_2025_raw:
    command: >
      dataset_process("data/NHNSW_2025/data.csv",
                  NHNSW_2025_config,
                  schema,
                  resource_metadata,
                  unit_conversions
                 )
  NHNSW_2025:
    command: >
      dataset_update_taxonomy(NHNSW_2025_raw,
                  taxon_list
                 )

  Pate_1989_config:
    command: >
      dataset_configure("data/Pate_1989/metadata.yml",
                 definitions
                 )
  Pate_1989_raw:
    command: >
      dataset_process("data/Pate_1989/data.csv",
                  Pate_1989_config,
                  schema,
                  resource_metadata,
                  unit_conversions
                 )
  Pate_1989:
    command: >
      dataset_update_taxonomy(Pate_1989_raw,
                  taxon_list
                 )

  Pearl_2024_config:
    command: >
      dataset_configure("data/Pearl_2024/metadata.yml",
                 definitions
                 )
  Pearl_2024_raw:
    command: >
      dataset_process("data/Pearl_2024/data.csv",
                  Pearl_2024_config,
                  schema,
                  resource_metadata,
                  unit_conversions
                 )
  Pearl_2024:
    command: >
      dataset_update_taxonomy(Pearl_2024_raw,
                  taxon_list
                 )

  Pegg_2018_config:
    command: >
      dataset_configure("data/Pegg_2018/metadata.yml",
                 definitions
                 )
  Pegg_2018_raw:
    command: >
      dataset_process("data/Pegg_2018/data.csv",
                  Pegg_2018_config,
                  schema,
                  resource_metadata,
                  unit_conversions
                 )
  Pegg_2018:
    command: >
      dataset_update_taxonomy(Pegg_2018_raw,
                  taxon_list
                 )

  Pickup_2021_config:
    command: >
      dataset_configure("data/Pickup_2021/metadata.yml",
                 definitions
                 )
  Pickup_2021_raw:
    command: >
      dataset_process("data/Pickup_2021/data.csv",
                  Pickup_2021_config,
                  schema,
                  resource_metadata,
                  unit_conversions
                 )
  Pickup_2021:
    command: >
      dataset_update_taxonomy(Pickup_2021_raw,
                  taxon_list
                 )

  RBGV_2025_config:
    command: >
      dataset_configure("data/RBGV_2025/metadata.yml",
                 definitions
                 )
  RBGV_2025_raw:
    command: >
      dataset_process("data/RBGV_2025/data.csv",
                  RBGV_2025_config,
                  schema,
                  resource_metadata,
                  unit_conversions
                 )
  RBGV_2025:
    command: >
      dataset_update_taxonomy(RBGV_2025_raw,
                  taxon_list
                 )

  SA_Seed_Conservation_Centre_2025_config:
    command: >
      dataset_configure("data/SA_Seed_Conservation_Centre_2025/metadata.yml",
                 definitions
                 )
  SA_Seed_Conservation_Centre_2025_raw:
    command: >
      dataset_process("data/SA_Seed_Conservation_Centre_2025/data.csv",
                  SA_Seed_Conservation_Centre_2025_config,
                  schema,
                  resource_metadata,
                  unit_conversions
                 )
  SA_Seed_Conservation_Centre_2025:
    command: >
      dataset_update_taxonomy(SA_Seed_Conservation_Centre_2025_raw,
                  taxon_list
                 )

  Setterfield_2002_config:
    command: >
      dataset_configure("data/Setterfield_2002/metadata.yml",
                 definitions
                 )
  Setterfield_2002_raw:
    command: >
      dataset_process("data/Setterfield_2002/data.csv",
                  Setterfield_2002_config,
                  schema,
                  resource_metadata,
                  unit_conversions
                 )
  Setterfield_2002:
    command: >
      dataset_update_taxonomy(Setterfield_2002_raw,
                  taxon_list
                 )

  Shaw_2024_config:
    command: >
      dataset_configure("data/Shaw_2024/metadata.yml",
                 definitions
                 )
  Shaw_2024_raw:
    command: >
      dataset_process("data/Shaw_2024/data.csv",
                  Shaw_2024_config,
                  schema,
                  resource_metadata,
                  unit_conversions
                 )
  Shaw_2024:
    command: >
      dataset_update_taxonomy(Shaw_2024_raw,
                  taxon_list
                 )

  Shearer_1996_config:
    command: >
      dataset_configure("data/Shearer_1996/metadata.yml",
                 definitions
                 )
  Shearer_1996_raw:
    command: >
      dataset_process("data/Shearer_1996/data.csv",
                  Shearer_1996_config,
                  schema,
                  resource_metadata,
                  unit_conversions
                 )
  Shearer_1996:
    command: >
      dataset_update_taxonomy(Shearer_1996_raw,
                  taxon_list
                 )

  Shearer_2010_config:
    command: >
      dataset_configure("data/Shearer_2010/metadata.yml",
                 definitions
                 )
  Shearer_2010_raw:
    command: >
      dataset_process("data/Shearer_2010/data.csv",
                  Shearer_2010_config,
                  schema,
                  resource_metadata,
                  unit_conversions
                 )
  Shearer_2010:
    command: >
      dataset_update_taxonomy(Shearer_2010_raw,
                  taxon_list
                 )

  Shedley_2007_config:
    command: >
      dataset_configure("data/Shedley_2007/metadata.yml",
                 definitions
                 )
  Shedley_2007_raw:
    command: >
      dataset_process("data/Shedley_2007/data.csv",
                  Shedley_2007_config,
                  schema,
                  resource_metadata,
                  unit_conversions
                 )
  Shedley_2007:
    command: >
      dataset_update_taxonomy(Shedley_2007_raw,
                  taxon_list
                 )

  Simmonds_2000_config:
    command: >
      dataset_configure("data/Simmonds_2000/metadata.yml",
                 definitions
                 )
  Simmonds_2000_raw:
    command: >
      dataset_process("data/Simmonds_2000/data.csv",
                  Simmonds_2000_config,
                  schema,
                  resource_metadata,
                  unit_conversions
                 )
  Simmonds_2000:
    command: >
      dataset_update_taxonomy(Simmonds_2000_raw,
                  taxon_list
                 )

  Tas_Seed_Conservation_Centre_2025_config:
    command: >
      dataset_configure("data/Tas_Seed_Conservation_Centre_2025/metadata.yml",
                 definitions
                 )
  Tas_Seed_Conservation_Centre_2025_raw:
    command: >
      dataset_process("data/Tas_Seed_Conservation_Centre_2025/data.csv",
                  Tas_Seed_Conservation_Centre_2025_config,
                  schema,
                  resource_metadata,
                  unit_conversions
                 )
  Tas_Seed_Conservation_Centre_2025:
    command: >
      dataset_update_taxonomy(Tas_Seed_Conservation_Centre_2025_raw,
                  taxon_list
                 )

  Tsujii_2023_config:
    command: >
      dataset_configure("data/Tsujii_2023/metadata.yml",
                 definitions
                 )
  Tsujii_2023_raw:
    command: >
      dataset_process("data/Tsujii_2023/data.csv",
                  Tsujii_2023_config,
                  schema,
                  resource_metadata,
                  unit_conversions
                 )
  Tsujii_2023:
    command: >
      dataset_update_taxonomy(Tsujii_2023_raw,
                  taxon_list
                 )

  Victorian_Conservation_Seed_Bank_2025_config:
    command: >
      dataset_configure("data/Victorian_Conservation_Seed_Bank_2025/metadata.yml",
                 definitions
                 )
  Victorian_Conservation_Seed_Bank_2025_raw:
    command: >
      dataset_process("data/Victorian_Conservation_Seed_Bank_2025/data.csv",
                  Victorian_Conservation_Seed_Bank_2025_config,
                  schema,
                  resource_metadata,
                  unit_conversions
                 )
  Victorian_Conservation_Seed_Bank_2025:
    command: >
      dataset_update_taxonomy(Victorian_Conservation_Seed_Bank_2025_raw,
                  taxon_list
                 )

  WA_Seed_Centre_2025_config:
    command: >
      dataset_configure("data/WA_Seed_Centre_2025/metadata.yml",
                 definitions
                 )
  WA_Seed_Centre_2025_raw:
    command: >
      dataset_process("data/WA_Seed_Centre_2025/data.csv",
                  WA_Seed_Centre_2025_config,
                  schema,
                  resource_metadata,
                  unit_conversions
                 )
  WA_Seed_Centre_2025:
    command: >
      dataset_update_taxonomy(WA_Seed_Centre_2025_raw,
                  taxon_list
                 )

  WAH_2025_config:
    command: >
      dataset_configure("data/WAH_2025/metadata.yml",
                 definitions
                 )
  WAH_2025_raw:
    command: >
      dataset_process("data/WAH_2025/data.csv",
                  WAH_2025_config,
                  schema,
                  resource_metadata,
                  unit_conversions
                 )
  WAH_2025:
    command: >
      dataset_update_taxonomy(WAH_2025_raw,
                  taxon_list
                 )

  Ward_2021_config:
    command: >
      dataset_configure("data/Ward_2021/metadata.yml",
                 definitions
                 )
  Ward_2021_raw:
    command: >
      dataset_process("data/Ward_2021/data.csv",
                  Ward_2021_config,
                  schema,
                  resource_metadata,
                  unit_conversions
                 )
  Ward_2021:
    command: >
      dataset_update_taxonomy(Ward_2021_raw,
                  taxon_list
                 )

  Wilson_2024_config:
    command: >
      dataset_configure("data/Wilson_2024/metadata.yml",
                 definitions
                 )
  Wilson_2024_raw:
    command: >
      dataset_process("data/Wilson_2024/data.csv",
                  Wilson_2024_config,
                  schema,
                  resource_metadata,
                  unit_conversions
                 )
  Wilson_2024:
    command: >
      dataset_update_taxonomy(Wilson_2024_raw,
                  taxon_list
                 )

  Zemunik_2015_config:
    command: >
      dataset_configure("data/Zemunik_2015/metadata.yml",
                 definitions
                 )
  Zemunik_2015_raw:
    command: >
      dataset_process("data/Zemunik_2015/data.csv",
                  Zemunik_2015_config,
                  schema,
                  resource_metadata,
                  unit_conversions
                 )
  Zemunik_2015:
    command: >
      dataset_update_taxonomy(Zemunik_2015_raw,
                  taxon_list
                 )


  threatened_species_raw:
    command: >
      bind_databases(
        ABRS_2025,
        ANBG_2025,
        AusTraits_habitats_2024,
        Australian_PlantBank_2025,
        Barrett_2008,
        Barrett_2009,
        Barrett_2009_2,
        Beggs_2010,
        Bell_1996,
        Berthon_2018,
        Brisbane_Botanic_Gardens_2025,
        Butler_2004,
        Crisp_2003,
        Crone_2012,
        DCCEEW_2024,
        Detombeur_2025,
        Fensham_2020,
        Fensham_2021,
        FernandezWinzer_2018,
        Greening_Australia_2025,
        Hanley_2001,
        Hanley_2002,
        Harrington_1986,
        Harshani_2023,
        Harshani_2023_2,
        Hart_2024,
        Hopper_2024,
        Hutton_1994,
        Ireland_2020,
        Jolly_2013,
        Li_1997,
        Martino_2022,
        Martino_2024,
        McDonald_2019,
        McDougall_2024,
        McDougall_2024_2,
        McQuillan_2020,
        mixed_2024,
        NHNSW_2025,
        Pate_1989,
        Pearl_2024,
        Pegg_2018,
        Pickup_2021,
        RBGV_2025,
        SA_Seed_Conservation_Centre_2025,
        Setterfield_2002,
        Shaw_2024,
        Shearer_1996,
        Shearer_2010,
        Shedley_2007,
        Simmonds_2000,
        Tas_Seed_Conservation_Centre_2025,
        Tsujii_2023,
        Victorian_Conservation_Seed_Bank_2025,
        WA_Seed_Centre_2025,
        WAH_2025,
        Ward_2021,
        Wilson_2024,
        Zemunik_2015,
        I(NULL))

# Version information
  version_number:
    command: util_get_version("config/metadata.yml")

  git_SHA:
    command: util_get_SHA()
    depends:
      - .git/index

# Combine all the source into one resource
  threatened_species:
    command: build_add_version(threatened_species_raw, version_number, git_SHA)

# Save to file
  export/data/curr/threatened_species.rds:
    command: saveRDS(threatened_species, target_name)
